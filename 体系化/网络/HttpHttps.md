1、Q：http/https区别

> 1、HTTPS  协议需要到 CA （Certificate Authority，证书颁发机构）申请证书，一般免费证书较少，因而需要一定费用。(以前的网易官网是http，而网易邮箱是 https 。)
>
> 2、HTTP 是超文本传输协议，信息是明文传输，HTTPS 则是具有安全性的 SSL 加密传输协议。
>
> 3、HTTP 和 HTTPS 使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
>
> 4、HTTP 的连接很简单，是无状态的。HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。(无状态的意思是其数据包的发送、传输和接收都是相互独立的。无连接的意思是指通信双方都不长久的维持对方的任何信息。)



2、Q：什么是对称加密，什么是非对称加密

​      A：对称加密是指服务端和客户端用同一个密钥加解密，加密速度快，通常在需要加密大量数据时使用，因为加密和解密都使用同一个密钥，把密钥传递到解密者的过程会存在被拦截的风险，因此对称解密不是很安全；常用的对称加密算法有：DES、3DES、RC2、RC4、RC5、IDEA等。 

​           非对称加密使用了一对密钥：公钥和私钥，一个加密则需要用另一个解密，私钥一般由服务端保管。非对称加密通常使用RSA算法，加密速度慢，为了保证效率，一般用于小数据。

3、Q：https加密过程

​      A：连接建立过程使用非对称加密传递、通信过程使用对称加密。

- 连接过程：

  1、客户端向服务端请求（发送TLS版本号、支持的加密算法、随机数C）

  2、服务端返回非对称加密的公钥（证书）、商定的加密算法、随机数S给客户的

  3、客户端验证服务端返回的证书

  4、证书验证通过，客户端会根据服务器返回的证书和随机数S以及随机数C生成一个会话密钥（对称加密）

  5、客户端用服务端返回的公钥对会话密钥进行非对称加密后传给服务器

  6、服务器通过私钥解密得到会话密钥

  7、客户端和服务端互相传输加密的握手消息来验证安全通道是否完成

- 通信过程：

  1、客户端通过会话密钥对数据进行对称加密传递给服务端

  2、服务端通过会话密钥解密获得数据

  3、服务端通过会话密钥对数据进行对称加密传递给客户端

  4、客户端通过会话密钥解密获得数据

4、CA机构（保证双方通信的真实性）

​      对称+非对称的加密方案也不是绝对的安全，当从服务端获取公钥的时候，存在着公钥被篡改的风险。一旦使用了假的公钥对数据加密，则可以被别人以假的私钥解密，这就是中间人攻击。现在的一些抓包工具就是通过中间拦截替换公钥完成的。

​    方案设计到这个时候就到了死胡同，因为我们永远无法安全的获取一个公钥，又不可能将所有的服务器的公钥都内置到客户端。

   这个时候就需要引入一个新的概念：CA机构。CA机构专门用于给各个服务器签发数字证书，从而保证客户端可以安全的获取服务器的公钥。具体步骤如下：

​    1、服务器需要向CA机构进行申请，将自己的公钥提交给CA机构，CA机构会根据我们提交的公钥，再加上一系列的其他的信息，如域名、有效时长等来制作证书。            

​    2、证书制作完成后，CA机构会用自己的私钥对其加密，并将加密后的数据返回给我们，我们只需将获得的加密信息配置到服务器即可。

   3、当客户端访问服务器时，服务器会将这段加密数据返回给客户端，客户端通过CA机构的公钥进行解密。如果解密成功，就可以得到CA机构给服务器颁发的证书，其中也包括服务器的公钥。



5、数字签名（保证数据的完整性）（https不一定安全）

​     数据的加密，有效保证了数据不被窃听（很难得到原始的数据），但传输的数据在传输过程中有可能被篡改或替换；比如：
 传输的原始数据是123456，经过加密后数据是abcdef；客户端将abcdef这个数据传输给服务器，传输过程中中间人能拿到abcdef这个数据，但因为没有密钥很难解密出原始数据123456；但是，中间人还是能对得到的abcdef这个加密数据进行处理，比如将这个数据改为xxxxx；这样服务器得到的数据就是被篡改后的xxxxx；同样，服务器返回数据给客户端时也会被篡改；这样其实也是不安全的；
 解决方案是进行数字签名：使用Hash算法将任意长度的字符串转化为固定长度的字符串，该过程不可逆，可用来作数据完整性校验；
 数字签名的简要过程（服务器-->客户端为例，客户端-->服务器类似）：

1. 服务器使用Hash算法对数据提取定长摘要
2. 服务器使用私钥对摘要进行加密，作为数字签名
3. 服务器将数字签名连同加密的数据一同传输给客户端
4. 客户端使用公钥对数字签名进行解密，得到摘要A
5. 客户端对解密后的传输数据也使用Hash算法得到定长摘要B
6. 对比摘要A和摘要B，如果不一致则数据已被篡改



对称加密算法用来对敏感数据等信息进行加密，常用的算法包括：

DES（Data Encryption Standard）：数据加密标准，速度较快，适用于加密大量数据的场合。

3DES（Triple DES）：是基于DES，对一块数据用三个不同的密钥进行三次加密，强度更高。

AES（Advanced Encryption Standard）：高级加密标准，是下一代的加密算法标准，速度快，安全级别高。



常用的非对称加密算法有：

- RSA：RSA 是一种目前应用非常广泛、历史也比较悠久的非对称[秘钥](https://so.csdn.net/so/search?q=秘钥&spm=1001.2101.3001.7020)加密技术，在1977年被麻省理工学院的罗纳德·李维斯特（Ron Rivest）、阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）三位科学家提出，由于难于破解，RSA 是目前应用最广泛的数字加密和签名技术，比如国内的支付宝就是通过RSA算法来进行签名验证。它的安全程度取决于秘钥的长度，目前主流可选秘钥长度为 1024位、2048位、4096位等，理论上秘钥越长越难于破解，按照维基百科上的说法，小于等于256位的秘钥，在一台个人电脑上花几个小时就能被破解，512位的秘钥和768位的秘钥也分别在1999年和2009年被成功破解，虽然目前还没有公开资料证实有人能够成功破解1024位的秘钥，但显然距离这个节点也并不遥远，所以目前业界推荐使用 2048 位或以上的秘钥，不过目前看 2048 位的秘钥已经足够安全了，支付宝的官方文档上推荐也是2048位，当然更长的秘钥更安全，但也意味着会产生更大的性能开销。
- DSA：既 Digital Signature Algorithm，数字签名算法，他是由美国国家标准与技术研究所（NIST）与1991年提出。和 RSA 不同的是 DSA 仅能用于数字签名，不能进行数据加密解密，其安全性和RSA相当，但其性能要比RSA快。
- ECDSA：Elliptic Curve Digital Signature Algorithm，椭圆曲线签名算法，是ECC（Elliptic curve cryptography，椭圆曲线密码学）和 DSA 的结合，椭圆曲线在密码学中的使用是在1985年由Neal Koblitz和Victor Miller分别独立提出的，相比于RSA算法，ECC 可以使用更小的秘钥，更高的效率，提供更高的安全保障，据称256位的ECC秘钥的安全性等同于3072位的RSA秘钥，和普通DSA相比，ECDSA在计算秘钥的过程中，部分因子使用了椭圆曲线算法。

参考地址：
https://www.jianshu.com/p/f6f6a21e17c0

https://guolin.blog.csdn.net/article/details/104546558